var ht=Object.defineProperty;var gt=(s,e,t)=>e in s?ht(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var z=(s,e,t)=>gt(s,typeof e!="symbol"?e+"":e,t);import{d as ft,u as bt,r as B,o as mt,w as Ve,c as J,a as v,j as E,e as U,b as i,t as h,g as m,f as R,F as P,x as N,q as kt,i as L,n as Z,z as xt,m as _t,p as wt,s as w,y as oe,_ as vt}from"./index-BdGNTURh.js";import{s as Fe,f as xe,_ as yt,j as $t,a as St,b as Rt,c as Tt,d as zt,e as At}from"./slug-Bj0l-jb2.js";function ye(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var X=ye();function Xe(s){X=s}var ne={exec:()=>null};function $(s,e=""){let t=typeof s=="string"?s:s.source,n={replace:(l,o)=>{let c=typeof o=="string"?o:o.source;return c=c.replace(C.caret,"$1"),t=t.replace(l,c),n},getRegex:()=>new RegExp(t,e)};return n}var Dt=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),C={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:s=>new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}#`),htmlBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}<(?:[a-z].*>|!--)`,"i")},Ct=/^(?:[ \t]*(?:\n|$))+/,Pt=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Lt=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,le=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,It=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,$e=/(?:[*+-]|\d{1,9}[.)])/,Ke=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Je=$(Ke).replace(/bull/g,$e).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Bt=$(Ke).replace(/bull/g,$e).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Se=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Et=/^[^\n]+/,Re=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,qt=$(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Re).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),jt=$(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,$e).getRegex(),ge="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Te=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Mt=$("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Te).replace("tag",ge).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ye=$(Se).replace("hr",le).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ge).getRegex(),Nt=$(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ye).getRegex(),ze={blockquote:Nt,code:Pt,def:qt,fences:Lt,heading:It,hr:le,html:Mt,lheading:Je,list:jt,newline:Ct,paragraph:Ye,table:ne,text:Et},Ge=$("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",le).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ge).getRegex(),Zt={...ze,lheading:Bt,table:Ge,paragraph:$(Se).replace("hr",le).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ge).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ge).getRegex()},Vt={...ze,html:$(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Te).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ne,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:$(Se).replace("hr",le).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Je).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ft=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Gt=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,et=/^( {2,}|\\)\n(?!\s*$)/,Ot=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,fe=/[\p{P}\p{S}]/u,Ae=/[\s\p{P}\p{S}]/u,tt=/[^\s\p{P}\p{S}]/u,Qt=$(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Ae).getRegex(),st=/(?!~)[\p{P}\p{S}]/u,Ht=/(?!~)[\s\p{P}\p{S}]/u,Ut=/(?:[^\s\p{P}\p{S}]|~)/u,Wt=$(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Dt?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),nt=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Xt=$(nt,"u").replace(/punct/g,fe).getRegex(),Kt=$(nt,"u").replace(/punct/g,st).getRegex(),lt="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Jt=$(lt,"gu").replace(/notPunctSpace/g,tt).replace(/punctSpace/g,Ae).replace(/punct/g,fe).getRegex(),Yt=$(lt,"gu").replace(/notPunctSpace/g,Ut).replace(/punctSpace/g,Ht).replace(/punct/g,st).getRegex(),es=$("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,tt).replace(/punctSpace/g,Ae).replace(/punct/g,fe).getRegex(),ts=$(/\\(punct)/,"gu").replace(/punct/g,fe).getRegex(),ss=$(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ns=$(Te).replace("(?:-->|$)","-->").getRegex(),ls=$("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ns).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ue=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,rs=$(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",ue).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),rt=$(/^!?\[(label)\]\[(ref)\]/).replace("label",ue).replace("ref",Re).getRegex(),it=$(/^!?\[(ref)\](?:\[\])?/).replace("ref",Re).getRegex(),is=$("reflink|nolink(?!\\()","g").replace("reflink",rt).replace("nolink",it).getRegex(),Oe=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,De={_backpedal:ne,anyPunctuation:ts,autolink:ss,blockSkip:Wt,br:et,code:Gt,del:ne,emStrongLDelim:Xt,emStrongRDelimAst:Jt,emStrongRDelimUnd:es,escape:Ft,link:rs,nolink:it,punctuation:Qt,reflink:rt,reflinkSearch:is,tag:ls,text:Ot,url:ne},as={...De,link:$(/^!?\[(label)\]\((.*?)\)/).replace("label",ue).getRegex(),reflink:$(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ue).getRegex()},_e={...De,emStrongRDelimAst:Yt,emStrongLDelim:Kt,url:$(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Oe).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:$(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Oe).getRegex()},os={..._e,br:$(et).replace("{2,}","*").getRegex(),text:$(_e.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ce={normal:ze,gfm:Zt,pedantic:Vt},ee={normal:De,gfm:_e,breaks:os,pedantic:as},cs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qe=s=>cs[s];function F(s,e){if(e){if(C.escapeTest.test(s))return s.replace(C.escapeReplace,Qe)}else if(C.escapeTestNoEncode.test(s))return s.replace(C.escapeReplaceNoEncode,Qe);return s}function He(s){try{s=encodeURI(s).replace(C.percentDecode,"%")}catch{return null}return s}function Ue(s,e){var o;let t=s.replace(C.findPipe,(c,r,g)=>{let d=!1,b=r;for(;--b>=0&&g[b]==="\\";)d=!d;return d?"|":" |"}),n=t.split(C.splitPipe),l=0;if(n[0].trim()||n.shift(),n.length>0&&!((o=n.at(-1))!=null&&o.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;l<n.length;l++)n[l]=n[l].trim().replace(C.slashPipe,"|");return n}function te(s,e,t){let n=s.length;if(n===0)return"";let l=0;for(;l<n&&s.charAt(n-l-1)===e;)l++;return s.slice(0,n-l)}function ds(s,e){if(s.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<s.length;n++)if(s[n]==="\\")n++;else if(s[n]===e[0])t++;else if(s[n]===e[1]&&(t--,t<0))return n;return t>0?-2:-1}function We(s,e,t,n,l){let o=e.href,c=e.title||null,r=s[1].replace(l.other.outputLinkReplace,"$1");n.state.inLink=!0;let g={type:s[0].charAt(0)==="!"?"image":"link",raw:t,href:o,title:c,text:r,tokens:n.inlineTokens(r)};return n.state.inLink=!1,g}function us(s,e,t){let n=s.match(t.other.indentCodeCompensation);if(n===null)return e;let l=n[1];return e.split(`
`).map(o=>{let c=o.match(t.other.beginningSpace);if(c===null)return o;let[r]=c;return r.length>=l.length?o.slice(l.length):o}).join(`
`)}var pe=class{constructor(s){z(this,"options");z(this,"rules");z(this,"lexer");this.options=s||X}space(s){let e=this.rules.block.newline.exec(s);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(s){let e=this.rules.block.code.exec(s);if(e){let t=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:te(t,`
`)}}}fences(s){let e=this.rules.block.fences.exec(s);if(e){let t=e[0],n=us(t,e[3]||"",this.rules);return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(s){let e=this.rules.block.heading.exec(s);if(e){let t=e[2].trim();if(this.rules.other.endingHash.test(t)){let n=te(t,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(t=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(s){let e=this.rules.block.hr.exec(s);if(e)return{type:"hr",raw:te(e[0],`
`)}}blockquote(s){let e=this.rules.block.blockquote.exec(s);if(e){let t=te(e[0],`
`).split(`
`),n="",l="",o=[];for(;t.length>0;){let c=!1,r=[],g;for(g=0;g<t.length;g++)if(this.rules.other.blockquoteStart.test(t[g]))r.push(t[g]),c=!0;else if(!c)r.push(t[g]);else break;t=t.slice(g);let d=r.join(`
`),b=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${d}`:d,l=l?`${l}
${b}`:b;let _=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(b,o,!0),this.lexer.state.top=_,t.length===0)break;let k=o.at(-1);if((k==null?void 0:k.type)==="code")break;if((k==null?void 0:k.type)==="blockquote"){let p=k,S=p.raw+`
`+t.join(`
`),x=this.blockquote(S);o[o.length-1]=x,n=n.substring(0,n.length-p.raw.length)+x.raw,l=l.substring(0,l.length-p.text.length)+x.text;break}else if((k==null?void 0:k.type)==="list"){let p=k,S=p.raw+`
`+t.join(`
`),x=this.list(S);o[o.length-1]=x,n=n.substring(0,n.length-k.raw.length)+x.raw,l=l.substring(0,l.length-p.raw.length)+x.raw,t=S.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:o,text:l}}}list(s){var t,n;let e=this.rules.block.list.exec(s);if(e){let l=e[1].trim(),o=l.length>1,c={type:"list",raw:"",ordered:o,start:o?+l.slice(0,-1):"",loose:!1,items:[]};l=o?`\\d{1,9}\\${l.slice(-1)}`:`\\${l}`,this.options.pedantic&&(l=o?l:"[*+-]");let r=this.rules.other.listItemRegex(l),g=!1;for(;s;){let b=!1,_="",k="";if(!(e=r.exec(s))||this.rules.block.hr.test(s))break;_=e[0],s=s.substring(_.length);let p=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,M=>" ".repeat(3*M.length)),S=s.split(`
`,1)[0],x=!p.trim(),A=0;if(this.options.pedantic?(A=2,k=p.trimStart()):x?A=e[1].length+1:(A=e[2].search(this.rules.other.nonSpaceChar),A=A>4?1:A,k=p.slice(A),A+=e[1].length),x&&this.rules.other.blankLine.test(S)&&(_+=S+`
`,s=s.substring(S.length+1),b=!0),!b){let M=this.rules.other.nextBulletRegex(A),Q=this.rules.other.hrRegex(A),V=this.rules.other.fencesBeginRegex(A),re=this.rules.other.headingBeginRegex(A),K=this.rules.other.htmlBeginRegex(A);for(;s;){let G=s.split(`
`,1)[0],O;if(S=G,this.options.pedantic?(S=S.replace(this.rules.other.listReplaceNesting,"  "),O=S):O=S.replace(this.rules.other.tabCharGlobal,"    "),V.test(S)||re.test(S)||K.test(S)||M.test(S)||Q.test(S))break;if(O.search(this.rules.other.nonSpaceChar)>=A||!S.trim())k+=`
`+O.slice(A);else{if(x||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||V.test(p)||re.test(p)||Q.test(p))break;k+=`
`+S}!x&&!S.trim()&&(x=!0),_+=G+`
`,s=s.substring(G.length+1),p=O.slice(A)}}c.loose||(g?c.loose=!0:this.rules.other.doubleBlankLine.test(_)&&(g=!0)),c.items.push({type:"list_item",raw:_,task:!!this.options.gfm&&this.rules.other.listIsTask.test(k),loose:!1,text:k,tokens:[]}),c.raw+=_}let d=c.items.at(-1);if(d)d.raw=d.raw.trimEnd(),d.text=d.text.trimEnd();else return;c.raw=c.raw.trimEnd();for(let b of c.items){if(this.lexer.state.top=!1,b.tokens=this.lexer.blockTokens(b.text,[]),b.task){if(b.text=b.text.replace(this.rules.other.listReplaceTask,""),((t=b.tokens[0])==null?void 0:t.type)==="text"||((n=b.tokens[0])==null?void 0:n.type)==="paragraph"){b.tokens[0].raw=b.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),b.tokens[0].text=b.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let k=this.lexer.inlineQueue.length-1;k>=0;k--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[k].src)){this.lexer.inlineQueue[k].src=this.lexer.inlineQueue[k].src.replace(this.rules.other.listReplaceTask,"");break}}let _=this.rules.other.listTaskCheckbox.exec(b.raw);if(_){let k={type:"checkbox",raw:_[0]+" ",checked:_[0]!=="[ ]"};b.checked=k.checked,c.loose?b.tokens[0]&&["paragraph","text"].includes(b.tokens[0].type)&&"tokens"in b.tokens[0]&&b.tokens[0].tokens?(b.tokens[0].raw=k.raw+b.tokens[0].raw,b.tokens[0].text=k.raw+b.tokens[0].text,b.tokens[0].tokens.unshift(k)):b.tokens.unshift({type:"paragraph",raw:k.raw,text:k.raw,tokens:[k]}):b.tokens.unshift(k)}}if(!c.loose){let _=b.tokens.filter(p=>p.type==="space"),k=_.length>0&&_.some(p=>this.rules.other.anyLine.test(p.raw));c.loose=k}}if(c.loose)for(let b of c.items){b.loose=!0;for(let _ of b.tokens)_.type==="text"&&(_.type="paragraph")}return c}}html(s){let e=this.rules.block.html.exec(s);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(s){let e=this.rules.block.def.exec(s);if(e){let t=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:n,title:l}}}table(s){var c;let e=this.rules.block.table.exec(s);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let t=Ue(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),l=(c=e[3])!=null&&c.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:e[0],header:[],align:[],rows:[]};if(t.length===n.length){for(let r of n)this.rules.other.tableAlignRight.test(r)?o.align.push("right"):this.rules.other.tableAlignCenter.test(r)?o.align.push("center"):this.rules.other.tableAlignLeft.test(r)?o.align.push("left"):o.align.push(null);for(let r=0;r<t.length;r++)o.header.push({text:t[r],tokens:this.lexer.inline(t[r]),header:!0,align:o.align[r]});for(let r of l)o.rows.push(Ue(r,o.header.length).map((g,d)=>({text:g,tokens:this.lexer.inline(g),header:!1,align:o.align[d]})));return o}}lheading(s){let e=this.rules.block.lheading.exec(s);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(s){let e=this.rules.block.paragraph.exec(s);if(e){let t=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(s){let e=this.rules.block.text.exec(s);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(s){let e=this.rules.inline.escape.exec(s);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(s){let e=this.rules.inline.tag.exec(s);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(s){let e=this.rules.inline.link.exec(s);if(e){let t=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let o=te(t.slice(0,-1),"\\");if((t.length-o.length)%2===0)return}else{let o=ds(e[2],"()");if(o===-2)return;if(o>-1){let c=(e[0].indexOf("!")===0?5:4)+e[1].length+o;e[2]=e[2].substring(0,o),e[0]=e[0].substring(0,c).trim(),e[3]=""}}let n=e[2],l="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(n);o&&(n=o[1],l=o[3])}else l=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n=n.slice(1):n=n.slice(1,-1)),We(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(s,e){let t;if((t=this.rules.inline.reflink.exec(s))||(t=this.rules.inline.nolink.exec(s))){let n=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),l=e[n.toLowerCase()];if(!l){let o=t[0].charAt(0);return{type:"text",raw:o,text:o}}return We(t,l,t[0],this.lexer,this.rules)}}emStrong(s,e,t=""){let n=this.rules.inline.emStrongLDelim.exec(s);if(!(!n||n[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!t||this.rules.inline.punctuation.exec(t))){let l=[...n[0]].length-1,o,c,r=l,g=0,d=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,e=e.slice(-1*s.length+l);(n=d.exec(e))!=null;){if(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!o)continue;if(c=[...o].length,n[3]||n[4]){r+=c;continue}else if((n[5]||n[6])&&l%3&&!((l+c)%3)){g+=c;continue}if(r-=c,r>0)continue;c=Math.min(c,c+r+g);let b=[...n[0]][0].length,_=s.slice(0,l+n.index+b+c);if(Math.min(l,c)%2){let p=_.slice(1,-1);return{type:"em",raw:_,text:p,tokens:this.lexer.inlineTokens(p)}}let k=_.slice(2,-2);return{type:"strong",raw:_,text:k,tokens:this.lexer.inlineTokens(k)}}}}codespan(s){let e=this.rules.inline.code.exec(s);if(e){let t=e[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(t),l=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&l&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:e[0],text:t}}}br(s){let e=this.rules.inline.br.exec(s);if(e)return{type:"br",raw:e[0]}}del(s){let e=this.rules.inline.del.exec(s);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(s){let e=this.rules.inline.autolink.exec(s);if(e){let t,n;return e[2]==="@"?(t=e[1],n="mailto:"+t):(t=e[1],n=t),{type:"link",raw:e[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(s){var t;let e;if(e=this.rules.inline.url.exec(s)){let n,l;if(e[2]==="@")n=e[0],l="mailto:"+n;else{let o;do o=e[0],e[0]=((t=this.rules.inline._backpedal.exec(e[0]))==null?void 0:t[0])??"";while(o!==e[0]);n=e[0],e[1]==="www."?l="http://"+e[0]:l=e[0]}return{type:"link",raw:e[0],text:n,href:l,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(s){let e=this.rules.inline.text.exec(s);if(e){let t=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:t}}}},q=class we{constructor(e){z(this,"tokens");z(this,"options");z(this,"state");z(this,"inlineQueue");z(this,"tokenizer");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||X,this.options.tokenizer=this.options.tokenizer||new pe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:C,block:ce.normal,inline:ee.normal};this.options.pedantic?(t.block=ce.pedantic,t.inline=ee.pedantic):this.options.gfm&&(t.block=ce.gfm,this.options.breaks?t.inline=ee.breaks:t.inline=ee.gfm),this.tokenizer.rules=t}static get rules(){return{block:ce,inline:ee}}static lex(e,t){return new we(t).lex(e)}static lexInline(e,t){return new we(t).inlineTokens(e)}lex(e){e=e.replace(C.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],n=!1){var l,o,c;for(this.options.pedantic&&(e=e.replace(C.tabCharGlobal,"    ").replace(C.spaceLine,""));e;){let r;if((o=(l=this.options.extensions)==null?void 0:l.block)!=null&&o.some(d=>(r=d.call({lexer:this},e,t))?(e=e.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let d=t.at(-1);r.raw.length===1&&d!==void 0?d.raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let d=t.at(-1);(d==null?void 0:d.type)==="paragraph"||(d==null?void 0:d.type)==="text"?(d.raw+=(d.raw.endsWith(`
`)?"":`
`)+r.raw,d.text+=`
`+r.text,this.inlineQueue.at(-1).src=d.text):t.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let d=t.at(-1);(d==null?void 0:d.type)==="paragraph"||(d==null?void 0:d.type)==="text"?(d.raw+=(d.raw.endsWith(`
`)?"":`
`)+r.raw,d.text+=`
`+r.raw,this.inlineQueue.at(-1).src=d.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}let g=e;if((c=this.options.extensions)!=null&&c.startBlock){let d=1/0,b=e.slice(1),_;this.options.extensions.startBlock.forEach(k=>{_=k.call({lexer:this},b),typeof _=="number"&&_>=0&&(d=Math.min(d,_))}),d<1/0&&d>=0&&(g=e.substring(0,d+1))}if(this.state.top&&(r=this.tokenizer.paragraph(g))){let d=t.at(-1);n&&(d==null?void 0:d.type)==="paragraph"?(d.raw+=(d.raw.endsWith(`
`)?"":`
`)+r.raw,d.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=d.text):t.push(r),n=g.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let d=t.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=(d.raw.endsWith(`
`)?"":`
`)+r.raw,d.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=d.text):t.push(r);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){var g,d,b,_,k;let n=e,l=null;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)p.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,l.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o;for(;(l=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)o=l[2]?l[2].length:0,n=n.slice(0,l.index+o)+"["+"a".repeat(l[0].length-o-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=((d=(g=this.options.hooks)==null?void 0:g.emStrongMask)==null?void 0:d.call({lexer:this},n))??n;let c=!1,r="";for(;e;){c||(r=""),c=!1;let p;if((_=(b=this.options.extensions)==null?void 0:b.inline)!=null&&_.some(x=>(p=x.call({lexer:this},e,t))?(e=e.substring(p.raw.length),t.push(p),!0):!1))continue;if(p=this.tokenizer.escape(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.tag(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.link(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(p.raw.length);let x=t.at(-1);p.type==="text"&&(x==null?void 0:x.type)==="text"?(x.raw+=p.raw,x.text+=p.text):t.push(p);continue}if(p=this.tokenizer.emStrong(e,n,r)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.codespan(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.br(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.del(e)){e=e.substring(p.raw.length),t.push(p);continue}if(p=this.tokenizer.autolink(e)){e=e.substring(p.raw.length),t.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(e))){e=e.substring(p.raw.length),t.push(p);continue}let S=e;if((k=this.options.extensions)!=null&&k.startInline){let x=1/0,A=e.slice(1),M;this.options.extensions.startInline.forEach(Q=>{M=Q.call({lexer:this},A),typeof M=="number"&&M>=0&&(x=Math.min(x,M))}),x<1/0&&x>=0&&(S=e.substring(0,x+1))}if(p=this.tokenizer.inlineText(S)){e=e.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(r=p.raw.slice(-1)),c=!0;let x=t.at(-1);(x==null?void 0:x.type)==="text"?(x.raw+=p.raw,x.text+=p.text):t.push(p);continue}if(e){let x="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(x);break}else throw new Error(x)}}return t}},he=class{constructor(s){z(this,"options");z(this,"parser");this.options=s||X}space(s){return""}code({text:s,lang:e,escaped:t}){var o;let n=(o=(e||"").match(C.notSpaceStart))==null?void 0:o[0],l=s.replace(C.endingNewline,"")+`
`;return n?'<pre><code class="language-'+F(n)+'">'+(t?l:F(l,!0))+`</code></pre>
`:"<pre><code>"+(t?l:F(l,!0))+`</code></pre>
`}blockquote({tokens:s}){return`<blockquote>
${this.parser.parse(s)}</blockquote>
`}html({text:s}){return s}def(s){return""}heading({tokens:s,depth:e}){return`<h${e}>${this.parser.parseInline(s)}</h${e}>
`}hr(s){return`<hr>
`}list(s){let e=s.ordered,t=s.start,n="";for(let c=0;c<s.items.length;c++){let r=s.items[c];n+=this.listitem(r)}let l=e?"ol":"ul",o=e&&t!==1?' start="'+t+'"':"";return"<"+l+o+`>
`+n+"</"+l+`>
`}listitem(s){return`<li>${this.parser.parse(s.tokens)}</li>
`}checkbox({checked:s}){return"<input "+(s?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:s}){return`<p>${this.parser.parseInline(s)}</p>
`}table(s){let e="",t="";for(let l=0;l<s.header.length;l++)t+=this.tablecell(s.header[l]);e+=this.tablerow({text:t});let n="";for(let l=0;l<s.rows.length;l++){let o=s.rows[l];t="";for(let c=0;c<o.length;c++)t+=this.tablecell(o[c]);n+=this.tablerow({text:t})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:s}){return`<tr>
${s}</tr>
`}tablecell(s){let e=this.parser.parseInline(s.tokens),t=s.header?"th":"td";return(s.align?`<${t} align="${s.align}">`:`<${t}>`)+e+`</${t}>
`}strong({tokens:s}){return`<strong>${this.parser.parseInline(s)}</strong>`}em({tokens:s}){return`<em>${this.parser.parseInline(s)}</em>`}codespan({text:s}){return`<code>${F(s,!0)}</code>`}br(s){return"<br>"}del({tokens:s}){return`<del>${this.parser.parseInline(s)}</del>`}link({href:s,title:e,tokens:t}){let n=this.parser.parseInline(t),l=He(s);if(l===null)return n;s=l;let o='<a href="'+s+'"';return e&&(o+=' title="'+F(e)+'"'),o+=">"+n+"</a>",o}image({href:s,title:e,text:t,tokens:n}){n&&(t=this.parser.parseInline(n,this.parser.textRenderer));let l=He(s);if(l===null)return F(t);s=l;let o=`<img src="${s}" alt="${t}"`;return e&&(o+=` title="${F(e)}"`),o+=">",o}text(s){return"tokens"in s&&s.tokens?this.parser.parseInline(s.tokens):"escaped"in s&&s.escaped?s.text:F(s.text)}},Ce=class{strong({text:s}){return s}em({text:s}){return s}codespan({text:s}){return s}del({text:s}){return s}html({text:s}){return s}text({text:s}){return s}link({text:s}){return""+s}image({text:s}){return""+s}br(){return""}checkbox({raw:s}){return s}},j=class ve{constructor(e){z(this,"options");z(this,"renderer");z(this,"textRenderer");this.options=e||X,this.options.renderer=this.options.renderer||new he,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ce}static parse(e,t){return new ve(t).parse(e)}static parseInline(e,t){return new ve(t).parseInline(e)}parse(e){var n,l;let t="";for(let o=0;o<e.length;o++){let c=e[o];if((l=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&l[c.type]){let g=c,d=this.options.extensions.renderers[g.type].call({parser:this},g);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(g.type)){t+=d||"";continue}}let r=c;switch(r.type){case"space":{t+=this.renderer.space(r);break}case"hr":{t+=this.renderer.hr(r);break}case"heading":{t+=this.renderer.heading(r);break}case"code":{t+=this.renderer.code(r);break}case"table":{t+=this.renderer.table(r);break}case"blockquote":{t+=this.renderer.blockquote(r);break}case"list":{t+=this.renderer.list(r);break}case"checkbox":{t+=this.renderer.checkbox(r);break}case"html":{t+=this.renderer.html(r);break}case"def":{t+=this.renderer.def(r);break}case"paragraph":{t+=this.renderer.paragraph(r);break}case"text":{t+=this.renderer.text(r);break}default:{let g='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(g),"";throw new Error(g)}}}return t}parseInline(e,t=this.renderer){var l,o;let n="";for(let c=0;c<e.length;c++){let r=e[c];if((o=(l=this.options.extensions)==null?void 0:l.renderers)!=null&&o[r.type]){let d=this.options.extensions.renderers[r.type].call({parser:this},r);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){n+=d||"";continue}}let g=r;switch(g.type){case"escape":{n+=t.text(g);break}case"html":{n+=t.html(g);break}case"link":{n+=t.link(g);break}case"image":{n+=t.image(g);break}case"checkbox":{n+=t.checkbox(g);break}case"strong":{n+=t.strong(g);break}case"em":{n+=t.em(g);break}case"codespan":{n+=t.codespan(g);break}case"br":{n+=t.br(g);break}case"del":{n+=t.del(g);break}case"text":{n+=t.text(g);break}default:{let d='Token with "'+g.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return n}},de,se=(de=class{constructor(s){z(this,"options");z(this,"block");this.options=s||X}preprocess(s){return s}postprocess(s){return s}processAllTokens(s){return s}emStrongMask(s){return s}provideLexer(){return this.block?q.lex:q.lexInline}provideParser(){return this.block?j.parse:j.parseInline}},z(de,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),z(de,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),de),ps=class{constructor(...s){z(this,"defaults",ye());z(this,"options",this.setOptions);z(this,"parse",this.parseMarkdown(!0));z(this,"parseInline",this.parseMarkdown(!1));z(this,"Parser",j);z(this,"Renderer",he);z(this,"TextRenderer",Ce);z(this,"Lexer",q);z(this,"Tokenizer",pe);z(this,"Hooks",se);this.use(...s)}walkTokens(s,e){var n,l;let t=[];for(let o of s)switch(t=t.concat(e.call(this,o)),o.type){case"table":{let c=o;for(let r of c.header)t=t.concat(this.walkTokens(r.tokens,e));for(let r of c.rows)for(let g of r)t=t.concat(this.walkTokens(g.tokens,e));break}case"list":{let c=o;t=t.concat(this.walkTokens(c.items,e));break}default:{let c=o;(l=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&l[c.type]?this.defaults.extensions.childTokens[c.type].forEach(r=>{let g=c[r].flat(1/0);t=t.concat(this.walkTokens(g,e))}):c.tokens&&(t=t.concat(this.walkTokens(c.tokens,e)))}}return t}use(...s){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return s.forEach(t=>{let n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){let o=e.renderers[l.name];o?e.renderers[l.name]=function(...c){let r=l.renderer.apply(this,c);return r===!1&&(r=o.apply(this,c)),r}:e.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=e[l.level];o?o.unshift(l.tokenizer):e[l.level]=[l.tokenizer],l.start&&(l.level==="block"?e.startBlock?e.startBlock.push(l.start):e.startBlock=[l.start]:l.level==="inline"&&(e.startInline?e.startInline.push(l.start):e.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(e.childTokens[l.name]=l.childTokens)}),n.extensions=e),t.renderer){let l=this.defaults.renderer||new he(this.defaults);for(let o in t.renderer){if(!(o in l))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let c=o,r=t.renderer[c],g=l[c];l[c]=(...d)=>{let b=r.apply(l,d);return b===!1&&(b=g.apply(l,d)),b||""}}n.renderer=l}if(t.tokenizer){let l=this.defaults.tokenizer||new pe(this.defaults);for(let o in t.tokenizer){if(!(o in l))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let c=o,r=t.tokenizer[c],g=l[c];l[c]=(...d)=>{let b=r.apply(l,d);return b===!1&&(b=g.apply(l,d)),b}}n.tokenizer=l}if(t.hooks){let l=this.defaults.hooks||new se;for(let o in t.hooks){if(!(o in l))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let c=o,r=t.hooks[c],g=l[c];se.passThroughHooks.has(o)?l[c]=d=>{if(this.defaults.async&&se.passThroughHooksRespectAsync.has(o))return(async()=>{let _=await r.call(l,d);return g.call(l,_)})();let b=r.call(l,d);return g.call(l,b)}:l[c]=(...d)=>{if(this.defaults.async)return(async()=>{let _=await r.apply(l,d);return _===!1&&(_=await g.apply(l,d)),_})();let b=r.apply(l,d);return b===!1&&(b=g.apply(l,d)),b}}n.hooks=l}if(t.walkTokens){let l=this.defaults.walkTokens,o=t.walkTokens;n.walkTokens=function(c){let r=[];return r.push(o.call(this,c)),l&&(r=r.concat(l.call(this,c))),r}}this.defaults={...this.defaults,...n}}),this}setOptions(s){return this.defaults={...this.defaults,...s},this}lexer(s,e){return q.lex(s,e??this.defaults)}parser(s,e){return j.parse(s,e??this.defaults)}parseMarkdown(s){return(e,t)=>{let n={...t},l={...this.defaults,...n},o=this.onError(!!l.silent,!!l.async);if(this.defaults.async===!0&&n.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(l.hooks&&(l.hooks.options=l,l.hooks.block=s),l.async)return(async()=>{let c=l.hooks?await l.hooks.preprocess(e):e,r=await(l.hooks?await l.hooks.provideLexer():s?q.lex:q.lexInline)(c,l),g=l.hooks?await l.hooks.processAllTokens(r):r;l.walkTokens&&await Promise.all(this.walkTokens(g,l.walkTokens));let d=await(l.hooks?await l.hooks.provideParser():s?j.parse:j.parseInline)(g,l);return l.hooks?await l.hooks.postprocess(d):d})().catch(o);try{l.hooks&&(e=l.hooks.preprocess(e));let c=(l.hooks?l.hooks.provideLexer():s?q.lex:q.lexInline)(e,l);l.hooks&&(c=l.hooks.processAllTokens(c)),l.walkTokens&&this.walkTokens(c,l.walkTokens);let r=(l.hooks?l.hooks.provideParser():s?j.parse:j.parseInline)(c,l);return l.hooks&&(r=l.hooks.postprocess(r)),r}catch(c){return o(c)}}}onError(s,e){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,s){let n="<p>An error occurred:</p><pre>"+F(t.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(t);throw t}}},W=new ps;function T(s,e){return W.parse(s,e)}T.options=T.setOptions=function(s){return W.setOptions(s),T.defaults=W.defaults,Xe(T.defaults),T};T.getDefaults=ye;T.defaults=X;T.use=function(...s){return W.use(...s),T.defaults=W.defaults,Xe(T.defaults),T};T.walkTokens=function(s,e){return W.walkTokens(s,e)};T.parseInline=W.parseInline;T.Parser=j;T.parser=j.parse;T.Renderer=he;T.TextRenderer=Ce;T.Lexer=q;T.lexer=q.lex;T.Tokenizer=pe;T.Hooks=se;T.parse=T;T.options;T.setOptions;T.use;T.walkTokens;T.parseInline;j.parse;q.lex;const hs={key:0,class:"text-center py-5",style:{"min-height":"60vh"}},gs={class:"text-muted mt-3"},fs={key:1,class:"text-center py-5",style:{"min-height":"60vh"}},bs={class:"text-danger"},ms={class:"mod-header-bg"},ks={class:"container"},xs={"aria-label":"breadcrumb"},_s={class:"breadcrumb ss-text-mono small mb-4"},ws={class:"breadcrumb-item"},vs={class:"breadcrumb-item"},ys={class:"breadcrumb-item"},$s={class:"breadcrumb-item active","aria-current":"page"},Ss={class:"row align-items-center"},Rs={class:"col-md-2 text-center text-md-start mb-3 mb-md-0"},Ts={class:"ratio ratio-1x1 border border-info bg-black",style:{"max-width":"150px",margin:"0 auto","box-shadow":"0 0 20px rgba(0,217,255,0.2)"}},zs=["src"],As={key:1,class:"d-flex align-items-center justify-content-center h-100"},Ds={class:"col-md-8"},Cs={class:"display-5 fw-bold text-white mb-1",style:{"font-family":"'Rajdhani', sans-serif"}},Ps={key:0,class:"text-secondary fs-4 align-middle ms-2 fw-normal font-monospace"},Ls={class:"d-flex align-items-center gap-2 mb-3 text-muted"},Is={href:"#",class:"text-white text-decoration-none fw-bold"},Bs={href:"#",class:"text-white text-decoration-none fw-bold"},Es={class:"d-flex flex-wrap gap-2 mb-3"},qs={key:0,class:"vr text-secondary mx-2"},js={class:"d-flex align-items-center gap-3 text-muted small ss-text-mono"},Ms=["title"],Ns={class:"col-md-2 text-end d-none d-md-block"},Zs={class:"container pb-5"},Vs={class:"row g-4"},Fs={class:"col-lg-8"},Gs={class:"ss-panel ss-corner"},Os={class:"nav nav-tabs px-3 pt-3",id:"modTab",role:"tablist"},Qs={class:"nav-item",role:"presentation"},Hs={class:"nav-link active",id:"desc-tab","data-bs-toggle":"tab","data-bs-target":"#desc-pane",type:"button",role:"tab"},Us={class:"nav-item",role:"presentation"},Ws={class:"nav-link",id:"files-tab","data-bs-toggle":"tab","data-bs-target":"#files-pane",type:"button",role:"tab"},Xs={class:"badge bg-secondary bg-opacity-25 ms-1"},Ks={class:"tab-content p-4",id:"modTabContent"},Js={class:"tab-pane fade show active",id:"desc-pane",role:"tabpanel"},Ys={class:"text-muted mb-3 small fst-italic border-start border-secondary ps-3"},en=["innerHTML"],tn={class:"text-white mb-3"},sn={class:"tab-pane fade",id:"files-pane",role:"tabpanel"},nn={class:"d-flex flex-wrap justify-content-between align-items-center mb-3 gap-2"},ln={class:"text-white mb-0"},rn={class:"d-flex gap-2"},an={class:"btn-group btn-group-sm"},on={class:"btn-group btn-group-sm"},cn=["onClick"],dn={class:"accordion",id:"versionAccordion"},un={class:"p-3 d-flex flex-wrap align-items-center justify-content-between gap-3"},pn={class:"d-flex align-items-center flex-grow-1",style:{"min-width":"280px"}},hn={class:"fw-bold text-white font-monospace fs-6"},gn={class:"d-flex align-items-center gap-2 text-muted small"},fn={key:0,class:"badge bg-info text-dark",style:{"font-size":"0.6rem"}},bn={class:"d-flex flex-wrap gap-1 align-items-center",style:{width:"200px","min-width":"200px"}},mn={key:0,class:"badge border border-secondary text-secondary font-monospace"},kn={key:1,class:"badge border border-secondary text-muted",style:{"font-size":"0.7rem"}},xn={class:"d-flex align-items-center gap-3 border-start border-secondary ps-3",style:{width:"140px","min-width":"140px"}},_n={class:"text-center"},wn={class:"fw-bold text-white font-monospace"},vn=["onClick"],yn=["data-bs-target"],$n=["id"],Sn={class:"p-3"},Rn={class:"text-info font-monospace small mb-2"},Tn={class:"text-light small font-monospace",style:{"white-space":"pre-line","line-height":"1.6"}},zn={class:"ss-panel ss-corner mt-4 p-4"},An={class:"text-white mb-4"},Dn={class:"ss-comment-box mb-4 d-none"},Cn={class:"d-flex gap-3"},Pn={class:"flex-grow-1"},Ln=["placeholder"],In={class:"d-flex justify-content-between align-items-center border-top border-secondary pt-2 mt-2",style:{"border-color":"rgba(45, 63, 80, 0.5) !important"}},Bn={class:"text-muted small"},En={class:"btn btn-sm btn-outline-info rounded-0 px-4",disabled:""},qn={class:"text-center text-muted py-4"},jn={class:"small"},Mn={class:"col-lg-4"},Nn={class:"ss-card ss-corner p-3"},Zn={class:"text-muted small ss-text-mono mb-2 d-none"},Vn={class:"small opacity-75 fw-normal",style:{"font-size":"0.8rem"}},Fn={class:"d-flex gap-2"},Gn=["title"],On={class:"small"},Qn={class:"dropdown flex-grow-1"},Hn={class:"btn btn-outline-secondary rounded-0 w-100",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Un={class:"small ms-1"},Wn={class:"dropdown-menu p-3 text-center shadow-lg",style:{"min-width":"200px",background:"#141c23",border:"1px solid var(--ss-border)"}},Xn={class:"dropdown-header text-muted ss-text-mono p-0 mb-2"},Kn={class:"star-rating fs-4 mb-2"},Jn=["onClick"],Yn={class:"small text-muted"},el=["title"],tl={class:"ss-card ss-corner p-3"},sl={class:"mb-2 text-muted small"},nl={class:"list-group list-group-flush small bg-transparent"},ll={class:"list-group-item bg-transparent text-white border-secondary d-flex justify-content-between px-0"},rl={class:"text-muted"},il={class:"ss-text-mono text-tech"},al={key:0,class:"list-group-item bg-transparent text-white border-secondary d-flex justify-content-between px-0"},ol={class:"text-muted"},cl={class:"ss-text-mono text-tech"},dl={class:"list-group-item bg-transparent text-white border-secondary d-flex justify-content-between px-0"},ul={class:"ss-text-mono text-secondary user-select-all"},pl={class:"list-group-item bg-transparent text-white border-secondary d-flex justify-content-between px-0"},hl={class:"text-muted"},gl={class:"ss-text-mono"},fl={class:"list-group-item bg-transparent text-white border-secondary d-flex justify-content-between px-0"},bl={class:"text-muted"},ml={class:"ss-text-mono"},kl={class:"list-group-item bg-transparent text-white border-secondary d-flex justify-content-between px-0"},xl={class:"text-muted"},_l={key:0,class:"text-muted"},wl={class:"list-group-item bg-transparent text-white border-secondary d-flex justify-content-between px-0"},vl={class:"text-muted"},yl={key:0,class:"text-muted"},$l={class:"mt-3"},Sl={class:"mb-2 text-muted small"},Rl={key:0,class:"list-unstyled mb-0 small"},Tl={class:"badge border border-secondary text-muted"},zl={key:1,class:"text-muted small"},Al={class:"mt-3"},Dl={class:"d-flex flex-wrap gap-1"},Cl={class:"ss-card ss-corner p-3"},Pl={class:"text-muted text-uppercase mb-3 small ss-text-mono"},Ll={class:"d-flex align-items-center gap-3 mb-3"},Il=["src"],Bl={href:"#",class:"text-tech fw-bold text-decoration-none fs-5"},El={class:"small text-muted"},ql={class:"d-grid"},jl={class:"btn btn-sm btn-outline-secondary",disabled:""},Ml=ft({__name:"ModDetailView",setup(s){const e=_t(),t=wt(),{t:n,locale:l}=bt(),o=B(!0),c=B(null),r=B(null),g=B([]),d=B([]),b=B([]),_=B([]),k=B(null),p=B("all"),S=B("all"),x=B({id:null,is_favorited:!1,rating:0}),A=async()=>{o.value=!0,c.value=null;try{const u=Number(e.params.id);if(isNaN(u))throw new Error(n("modDetail.invalidModId"));const a=await $t(u);r.value=a.data;const y=Pe();y&&(k.value=y)}catch(u){c.value=u.message||n("modDetail.loadingFailed"),console.error("Failed to fetch detail:",u)}finally{o.value=!1}},M=async()=>{try{const[u,a,y,D]=await Promise.all([St(),Rt(),Tt(),zt()]);g.value=u.data,d.value=a.data,b.value=y.data,_.value=D.data}catch(u){console.error("Failed to fetch metadata:",u)}},Q=u=>{k.value=u};mt(()=>{M(),A()}),Ve(()=>e.params.id,()=>{A()});const V=J(()=>Pe()),re=J(()=>{if(!r.value||!r.value["mod-versions"])return[];let u=r.value["mod-versions"];return p.value!=="all"&&(u=u.filter(a=>{const y=a["game-versions"];return y?y.some(D=>{const H=_.value.find(ae=>ae.id===D.game_version_id);return H&&H.version_name.includes(p.value)}):!1})),S.value==="cn"?u=u.filter(a=>a.support_cn===1):S.value==="en"&&(u=u.filter(a=>a.support_en===1)),Fe(u)}),K=J(()=>{if(!r.value||!r.value["mod-versions"])return[];const u=new Set;return r.value["mod-versions"].forEach(a=>{var y;(y=a["game-versions"])==null||y.forEach(D=>u.add(D.game_version_id))}),_.value.filter(a=>u.has(a.id)).sort((a,y)=>y.sort_order-a.sort_order)}),G=J(()=>{if(!r.value||!r.value["mod-versions"])return[];const u=[],a=r.value["mod-versions"].some(D=>D.support_cn===1),y=r.value["mod-versions"].some(D=>D.support_en===1);return a&&u.push("CN"),y&&u.push("EN"),u}),O=J(()=>{var u;return((u=r.value)==null?void 0:u["mod-dependencies-by-content"])||[]}),at=J(()=>{if(!r.value)return"";const u=l.value==="zh"?r.value.desc_cn||r.value.desc_en||n("modDetail.noDescription"):r.value.desc_en||r.value.desc_cn||n("modDetail.noDescription");return T.parse(u)}),ot=()=>{if(!r.value)return;const u=l.value==="zh"?r.value.title_cn||r.value.title_en:r.value.title_en||r.value.title_cn;document.title=`${u} | ${n("app.name")}`};Ve([()=>r.value,l],()=>{ot()});function Pe(){return!r.value||!r.value["mod-versions"]||r.value["mod-versions"].length===0?null:Fe(r.value["mod-versions"])[0]}const be=u=>{const a=g.value.find(y=>y.id===u);return a?l.value==="zh"?a.name_cn:a.name_en:String(u)},Le=u=>{const a=d.value.find(y=>y.id===u);return a?l.value==="zh"?a.name_cn:a.name_en:String(u)},Ie=()=>{var a;const u=(a=r.value)==null?void 0:a["content-tags"];return!u||!Array.isArray(u)?[]:u.map(y=>y.tag_id)},me=u=>u["game-versions"]?u["game-versions"].map(a=>{const y=_.value.find(D=>D.id===a.game_version_id);return y?y.version_name:""}).filter(Boolean):[],Be=u=>{const a=[];return u.support_cn&&a.push("CN"),u.support_en&&a.push("EN"),a},Ee=u=>{p.value=u},ke=u=>{S.value=u},ie=u=>u>=1e3?(u/1e3).toFixed(1)+"k":String(u),Y=u=>{if(!u)return"-";const a=new Date(u),y=a.getFullYear(),D=String(a.getMonth()+1).padStart(2,"0"),H=String(a.getDate()).padStart(2,"0");return`${y}-${D}-${H}`},ct=u=>u?u<1024?u+" B":u<1024*1024?(u/1024).toFixed(1)+" KB":(u/1024/1024).toFixed(1)+" MB":"-",dt=u=>u>=1e4?"text-warning fw-bold":u>=5e3?"text-info":u>=1e3?"text-white":"text-muted",qe=()=>{x.value.is_favorited=!x.value.is_favorited},ut=()=>{const u=window.location.href;navigator.clipboard.writeText(u).then(()=>{alert(n("modDetail.linkCopied")+": "+u)}).catch(a=>{console.error("复制失败",a)})},pt=()=>{t.push({name:"mod-list"})};return(u,a)=>{var D,H,ae;const y=kt("router-link");return w(),v("div",null,[o.value?(w(),v("div",hs,[a[5]||(a[5]=i("div",{class:"spinner-border text-info",role:"status"},[i("span",{class:"visually-hidden"},"Loading...")],-1)),i("p",gs,h(m(n)("modDetail.loadingHint")),1)])):c.value?(w(),v("div",fs,[a[7]||(a[7]=i("i",{class:"bi bi-exclamation-triangle fs-1 text-danger d-block mb-3"},null,-1)),i("p",bs,h(c.value),1),i("button",{class:"btn btn-outline-info btn-sm",onClick:pt},[a[6]||(a[6]=i("i",{class:"bi bi-arrow-left"},null,-1)),R(" "+h(m(n)("modDetail.backToList")),1)])])):r.value?(w(),v(P,{key:2},[i("header",ms,[i("div",ks,[i("nav",xs,[i("ol",_s,[i("li",ws,[U(y,{to:`/${m(l)}`},{default:N(()=>[...a[8]||(a[8]=[R("DATABASE",-1)])]),_:1},8,["to"])]),i("li",vs,[U(y,{to:`/${m(l)}/mod`},{default:N(()=>[...a[9]||(a[9]=[R("MODS",-1)])]),_:1},8,["to"])]),i("li",ys,[U(y,{to:`/${m(l)}/mod?t=${r.value.content_type_id}`},{default:N(()=>[R(h(be(r.value.content_type_id)),1)]),_:1},8,["to"])]),i("li",$s,h(m(l)==="zh"?r.value.title_cn||r.value.title_en:r.value.title_en||r.value.title_cn),1)])]),i("div",Ss,[i("div",Rs,[i("div",Ts,[r.value.thumbnail?(w(),v("img",{key:0,src:r.value.thumbnail,class:"img-fluid object-fit-cover",alt:"Logo"},null,8,zs)):(w(),v("div",As,[...a[10]||(a[10]=[i("i",{class:"bi bi-cpu fs-1 text-info"},null,-1)])]))])]),i("div",Ds,[i("h1",Cs,[R(h(m(l)==="zh"&&r.value.title_cn||r.value.title_en)+" ",1),V.value?(w(),v("span",Ps,h(m(xe)(V.value.version_number)),1)):E("",!0)]),i("div",Ls,[a[13]||(a[13]=i("i",{class:"bi bi-person-fill text-info"},null,-1)),i("span",null,h(m(n)("modDetail.author")),1),i("a",Is,h(r.value.author),1),(D=r.value["mod-metas"])!=null&&D.upload_user_name?(w(),v(P,{key:0},[a[11]||(a[11]=i("span",{class:"text-secondary mx-1"},"|",-1)),a[12]||(a[12]=i("i",{class:"bi bi-cloud-arrow-up-fill text-info"},null,-1)),i("span",null,h(m(n)("modDetail.uploader")),1),i("a",Bs,h(r.value["mod-metas"].upload_user_name),1)],64)):E("",!0)]),i("div",Es,[U(y,{to:{name:"mod-list",query:{t:r.value.content_type_id}},class:"badge badge-category text-decoration-none"},{default:N(()=>[R(h(be(r.value.content_type_id)),1)]),_:1},8,["to"]),(w(!0),v(P,null,L(Ie(),f=>(w(),oe(y,{key:f,to:{name:"mod-list",query:{tag:f}},class:"badge badge-tag text-decoration-none"},{default:N(()=>[R(h(Le(f)),1)]),_:2},1032,["to"]))),128)),a[14]||(a[14]=i("div",{class:"vr text-secondary mx-2"},null,-1)),(w(!0),v(P,null,L(K.value,f=>(w(),oe(y,{key:f.id,to:{name:"mod-list",query:{v:f.id}},class:"badge border border-secondary text-muted text-decoration-none"},{default:N(()=>[R(h(f.version_name),1)]),_:2},1032,["to"]))),128)),G.value.length>0?(w(),v("div",qs)):E("",!0),(w(!0),v(P,null,L(G.value,f=>(w(),v("span",{key:f,class:"badge border border-info text-info"},h(f),1))),128))]),i("div",js,[i("span",{title:"评分: "+r.value.average_rating},[a[15]||(a[15]=i("i",{class:"bi bi-star-fill text-warning"},null,-1)),R(" "+h(r.value.average_rating),1)],8,Ms),a[20]||(a[20]=i("span",null,"|",-1)),i("span",{class:Z(dt(r.value.download_cnt))},[a[16]||(a[16]=i("i",{class:"bi bi-download"},null,-1)),R(" "+h(ie(r.value.download_cnt)),1)],2),a[21]||(a[21]=i("span",null,"|",-1)),i("span",null,[a[17]||(a[17]=i("i",{class:"bi bi-bookmark-fill text-info opacity-75"},null,-1)),R(" "+h(ie(r.value.favorite_cnt)),1)]),a[22]||(a[22]=i("span",null,"|",-1)),i("span",null,[a[18]||(a[18]=i("i",{class:"bi bi-rocket-takeoff text-info opacity-75"},null,-1)),R(" "+h(Y(r.value.published_at)),1)]),a[23]||(a[23]=i("span",null,"|",-1)),i("span",null,[a[19]||(a[19]=i("i",{class:"bi bi-clock-history"},null,-1)),R(" "+h(Y(r.value.updated_at)),1)])])]),i("div",Ns,[i("button",{class:"btn btn-outline-secondary btn-sm mb-2",onClick:qe},[i("i",{class:Z(["bi",x.value.is_favorited?"bi-bookmark-fill text-info":"bi-bookmark"])},null,2),R(" "+h(m(n)("modDetail.favorite")),1)])])])])]),i("main",Zs,[i("div",Vs,[i("div",Fs,[i("div",Gs,[i("ul",Os,[i("li",Qs,[i("button",Hs,[a[24]||(a[24]=i("i",{class:"bi bi-file-text me-2"},null,-1)),R(h(m(n)("modDetail.description")),1)])]),i("li",Us,[i("button",Ws,[a[25]||(a[25]=i("i",{class:"bi bi-hdd-stack me-2"},null,-1)),R(h(m(n)("modDetail.versions"))+" ",1),i("span",Xs,h(((H=r.value["mod-versions"])==null?void 0:H.length)||0),1)])])]),i("div",Ks,[i("div",Js,[i("div",Ys,[a[26]||(a[26]=i("i",{class:"bi bi-translate me-1"},null,-1)),R(" "+h(m(n)("modDetail.authorProvidedContent")),1)]),i("div",{class:"mod-description text-light lh-lg",innerHTML:at.value},null,8,en),a[28]||(a[28]=i("hr",{class:"border-secondary my-4"},null,-1)),i("h5",tn,[a[27]||(a[27]=i("i",{class:"bi bi-images me-2 text-info"},null,-1)),R(h(m(n)("modDetail.previewGallery")),1)]),a[29]||(a[29]=xt('<div class="row g-2" data-v-7dcf9cf9><div class="col-md-4 col-6" data-v-7dcf9cf9><div class="ratio ratio-16x9 bg-black border border-secondary" data-v-7dcf9cf9><div class="d-flex align-items-center justify-content-center text-muted" data-v-7dcf9cf9>Preview 1</div></div></div><div class="col-md-4 col-6" data-v-7dcf9cf9><div class="ratio ratio-16x9 bg-black border border-secondary" data-v-7dcf9cf9><div class="d-flex align-items-center justify-content-center text-muted" data-v-7dcf9cf9>Preview 2</div></div></div><div class="col-md-4 col-6" data-v-7dcf9cf9><div class="ratio ratio-16x9 bg-black border border-secondary" data-v-7dcf9cf9><div class="d-flex align-items-center justify-content-center text-muted" data-v-7dcf9cf9>Preview 3</div></div></div></div>',1))]),i("div",sn,[i("div",nn,[i("h5",ln,[a[30]||(a[30]=i("i",{class:"bi bi-archive me-2"},null,-1)),R(h(m(n)("modDetail.fileArchive")),1)]),i("div",rn,[i("div",an,[i("button",{onClick:a[0]||(a[0]=f=>ke("all")),class:Z(["btn btn-outline-secondary",{active:S.value==="all"}])},h(m(n)("modDetail.all")),3),i("button",{onClick:a[1]||(a[1]=f=>ke("cn")),class:Z(["btn btn-outline-secondary",{active:S.value==="cn"}])},"CN",2),i("button",{onClick:a[2]||(a[2]=f=>ke("en")),class:Z(["btn btn-outline-secondary",{active:S.value==="en"}])},"EN",2)]),i("div",on,[i("button",{onClick:a[3]||(a[3]=f=>Ee("all")),class:Z(["btn btn-outline-secondary",{active:p.value==="all"}])},h(m(n)("modDetail.all")),3),(w(!0),v(P,null,L(K.value,f=>(w(),v("button",{key:f.id,onClick:I=>Ee(f.version_name),class:Z(["btn btn-outline-secondary",{active:p.value===f.version_name}])},h(f.version_name),11,cn))),128))])])]),i("div",dn,[(w(!0),v(P,null,L(re.value,f=>(w(),v("div",{key:f.id,class:"version-card mb-2"},[i("div",un,[i("div",pn,[a[33]||(a[33]=i("i",{class:"bi bi-box-seam text-info me-2 fs-5"},null,-1)),i("div",null,[i("div",hn,h(m(xe)(f.version_number)),1),i("div",gn,[f.is_latest?(w(),v("span",fn,"LATEST")):E("",!0),i("span",null,[a[31]||(a[31]=i("i",{class:"bi bi-calendar me-1"},null,-1)),R(h(Y(f.updated_at)),1)]),i("span",null,[a[32]||(a[32]=i("i",{class:"bi bi-hdd me-1"},null,-1)),R(h(ct(f.file_size)),1)])])])]),i("div",bn,[(w(!0),v(P,null,L(me(f),I=>(w(),v("span",{key:I,class:"badge border border-secondary text-secondary font-monospace"},h(I),1))),128)),me(f).length===0?(w(),v("span",mn,"-")):E("",!0),a[34]||(a[34]=i("span",{class:"text-secondary mx-1"},"|",-1)),(w(!0),v(P,null,L(Be(f),I=>(w(),v("span",{key:I,class:"badge border border-info text-info",style:{"font-size":"0.7rem"}},h(I),1))),128)),Be(f).length===0?(w(),v("span",kn,"-")):E("",!0)]),i("div",xn,[i("div",_n,[i("div",wn,h(ie(f.download_cnt)),1),a[35]||(a[35]=i("small",{class:"text-muted",style:{"font-size":"0.7rem"}},"DLS",-1))]),i("button",{onClick:I=>Q(f),class:"btn btn-sm btn-outline-info rounded-0","data-bs-toggle":"modal","data-bs-target":"#downloadModal"},[...a[36]||(a[36]=[i("i",{class:"bi bi-download"},null,-1)])],8,vn),i("button",{class:"btn btn-sm btn-link text-muted",type:"button","data-bs-toggle":"collapse","data-bs-target":"#ver"+f.id},[...a[37]||(a[37]=[i("i",{class:"bi bi-caret-down-fill"},null,-1)])],8,yn)])]),i("div",{id:"ver"+f.id,class:"collapse border-top border-secondary bg-black bg-opacity-25"},[i("div",Sn,[i("h6",Rn,"CHANGELOG // "+h(m(n)("modDetail.changelog")),1),i("div",Tn,h(m(l)==="zh"?f.changelog_cn||f.changelog_en||m(n)("modDetail.noChangelog"):f.changelog_en||f.changelog_cn||m(n)("modDetail.noChangelog")),1)])],8,$n)]))),128))])])])]),i("div",zn,[i("h5",An,[a[38]||(a[38]=i("i",{class:"bi bi-chat-left-text me-2 text-info"},null,-1)),R(h(m(n)("modDetail.comments")),1)]),i("div",Dn,[i("div",Cn,[a[41]||(a[41]=i("div",{class:"flex-shrink-0 d-none d-md-block"},[i("div",{class:"rounded-circle bg-dark border border-secondary d-flex align-items-center justify-content-center text-muted",style:{width:"48px",height:"48px"}},[i("i",{class:"bi bi-person-fill fs-4"})])],-1)),i("div",Pn,[i("textarea",{class:"form-control ss-comment-textarea mb-2",rows:"3",placeholder:m(n)("modDetail.commentPlaceholder"),disabled:""},null,8,Ln),i("div",In,[i("div",Bn,[a[39]||(a[39]=i("i",{class:"bi bi-markdown me-1"},null,-1)),R(" "+h(m(n)("modDetail.markdownSupported")),1)]),i("button",En,[a[40]||(a[40]=i("i",{class:"bi bi-send-fill me-2"},null,-1)),R(h(m(n)("modDetail.send")),1)])])])])]),i("div",qn,[a[42]||(a[42]=i("i",{class:"bi bi-broadcast fs-1 d-block mb-2 opacity-50"},null,-1)),i("p",jn,h(m(n)("modDetail.commentsSoon")),1)])])]),i("div",Mn,[i("div",Nn,[i("h6",Zn,h(m(n)("modDetail.deploymentPackage")),1),V.value?(w(),v("button",{key:0,class:"btn-download-lg text-decoration-none d-flex align-items-center justify-content-center gap-2 mb-3 w-100","data-bs-toggle":"modal","data-bs-target":"#downloadModal",onClick:a[4]||(a[4]=f=>Q(V.value))},[a[43]||(a[43]=i("i",{class:"bi bi-cloud-arrow-down-fill"},null,-1)),i("span",null,h(m(xe)(V.value.version_number)),1),i("span",Vn,"(For "+h(me(V.value).join(", ")||"-")+")",1)])):E("",!0),i("div",Fn,[i("button",{class:"btn btn-outline-secondary rounded-0 flex-grow-1",title:m(n)("modDetail.favorite"),onClick:qe},[i("i",{class:Z(["bi",x.value.is_favorited?"bi-bookmark-fill text-info":"bi-bookmark"])},null,2),a[44]||(a[44]=R()),i("span",On,h(ie(r.value.favorite_cnt)),1)],8,Gn),i("div",Qn,[i("button",Hn,[i("i",{class:Z(["bi",x.value.rating>0?"bi-star-fill text-warning":"bi-star-half"])},null,2),i("span",Un,h(x.value.rating>0?x.value.rating:r.value.average_rating),1)]),i("div",Wn,[i("h6",Xn,h(m(n)("modDetail.rateThisMod")),1),i("div",Kn,[(w(),v(P,null,L(5,f=>i("i",{key:f,class:Z(["bi",f<=x.value.rating?"bi-star-fill text-warning":"bi-star text-secondary"]),style:{cursor:"pointer"},onClick:I=>x.value.rating=f},null,10,Jn)),64))]),i("div",Yn,h(x.value.rating>0?m(n)("modDetail.rated")+": "+x.value.rating+" "+m(n)("modDetail.stars"):m(n)("modDetail.clickToRate")),1)])]),i("button",{class:"btn btn-outline-secondary rounded-0",title:m(n)("modDetail.linkCopied"),onClick:ut},[...a[45]||(a[45]=[i("i",{class:"bi bi-share"},null,-1)])],8,el)])]),i("div",tl,[i("div",sl,h(m(n)("modDetail.modInfo")),1),i("ul",nl,[i("li",ll,[i("span",rl,h(m(n)("modDetail.author")),1),i("span",il,h(r.value.author),1)]),(ae=r.value["mod-metas"])!=null&&ae.upload_user_name?(w(),v("li",al,[i("span",ol,h(m(n)("modDetail.uploader")),1),i("span",cl,h(r.value["mod-metas"].upload_user_name),1)])):E("",!0),i("li",dl,[a[46]||(a[46]=i("span",{class:"text-muted"},"MOD ID",-1)),i("span",ul,h(r.value.code||r.value.id),1)]),i("li",pl,[i("span",hl,h(m(n)("modDetail.publishedAt")),1),i("span",gl,h(Y(r.value.published_at)),1)]),i("li",fl,[i("span",bl,h(m(n)("modDetail.lastUpdated")),1),i("span",ml,h(Y(r.value.updated_at)),1)]),i("li",kl,[i("span",xl,h(m(n)("modDetail.supportedLanguages")),1),i("div",null,[(w(!0),v(P,null,L(G.value,f=>(w(),v("span",{key:f,class:"badge border border-secondary text-muted ms-1"},h(f),1))),128)),G.value.length===0?(w(),v("span",_l,"-")):E("",!0)])]),i("li",wl,[i("span",vl,h(m(n)("modDetail.supportedVersions")),1),i("div",null,[(w(!0),v(P,null,L(K.value,f=>(w(),oe(y,{key:f.id,to:{name:"mod-list",query:{v:f.id}},class:"badge border border-secondary text-muted ms-1 text-decoration-none"},{default:N(()=>[R(h(f.version_name),1)]),_:2},1032,["to"]))),128)),K.value.length===0?(w(),v("span",yl,"-")):E("",!0)])])]),a[47]||(a[47]=i("hr",{class:"border-secondary opacity-25 my-3"},null,-1)),i("div",$l,[i("div",Sl,h(m(n)("modDetail.dependencies")),1),O.value.length>0?(w(),v("ul",Rl,[(w(!0),v(P,null,L(O.value,f=>{var I;return w(),v("li",{key:f.id,class:"mb-2 d-flex justify-content-between"},[U(y,{to:m(At)(m(l),f.dep_content_id,(I=f.content)==null?void 0:I.title_en),class:"text-decoration-none text-light hover-tech"},{default:N(()=>{var je,Me,Ne,Ze;return[R(h(m(l)==="zh"?((je=f.content)==null?void 0:je.title_cn)||((Me=f.content)==null?void 0:Me.title_en):((Ne=f.content)==null?void 0:Ne.title_en)||((Ze=f.content)==null?void 0:Ze.title_cn)),1)]}),_:2},1032,["to"]),i("span",Tl,h(f.is_required?m(n)("modDetail.required"):m(n)("modDetail.optional")),1)])}),128))])):(w(),v("div",zl,h(m(n)("modDetail.noDependencies")),1))]),a[48]||(a[48]=i("hr",{class:"border-secondary opacity-25 my-3"},null,-1)),i("div",Al,[i("div",Dl,[U(y,{to:{name:"mod-list",query:{t:r.value.content_type_id}},class:"badge badge-category text-decoration-none"},{default:N(()=>[R(h(be(r.value.content_type_id)),1)]),_:1},8,["to"]),(w(!0),v(P,null,L(Ie(),f=>(w(),oe(y,{key:"t"+f,to:{name:"mod-list",query:{tag:f}},class:"badge badge-tag text-decoration-none"},{default:N(()=>[R(h(Le(f)),1)]),_:2},1032,["to"]))),128))])])]),i("div",Cl,[i("h6",Pl,h(m(n)("modDetail.createdBy")),1),i("div",Ll,[i("img",{src:"https://ui-avatars.com/api/?name="+encodeURIComponent(r.value.author)+"&background=random",class:"avatar-md rounded-circle border-info",alt:"Author Avatar"},null,8,Il),i("div",null,[i("a",Bl,h(r.value.author),1),i("div",El,h(m(n)("modDetail.modDeveloper")),1)])]),i("div",ql,[i("button",jl,h(m(n)("modDetail.viewAuthorWorks")),1)])])])])])],64)):E("",!0),U(yt,{version:k.value},null,8,["version"])])}}}),Fl=vt(Ml,[["__scopeId","data-v-7dcf9cf9"]]);export{Fl as default};
